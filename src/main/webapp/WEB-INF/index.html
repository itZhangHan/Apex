<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<script type="text/javascript" src="../js/jquery-2.1.1.min.js"></script>
<title>游戏页面</title>
<script src="../js/webSocket.js"></script>
<link rel="stylesheet" href="../css/style.css">
<script type="text/javascript">
	function sendUsers() {

		var readingUsers = {};
		alert("进入游戏场景222");
		readingUsers.type = "gameUsmessage"
		readingUsers.roomId = "1001";
		readingUsers.toUserName = "";
		readingUsers.fromUserName = "";
		readingUsers.msgStr = "";
		readingUsers.userStatus = "0";
		readingUsers.roomState = "1";
		readingUsers.position = "";
		readingUsers.headimgurl = "";
		readingUsers.nicakname = "zhangsan";
		readingUsers.sex = "1";
		readingUsers.city = "beijing";
		readingUsers.userId = "50";
		readingUsers.props = "道具";
		alert("city");
		websocket.send(JSON.stringify(readingUsers));

	}
</script>
</head>
<body>
	<script type="text/javascript">
		sendUsers();
	</script>
	<div class="wrap" id="wrap">
		<div class="local">
			<div class="time">
				<img src="../img/a/image4.png">
				<div class="info">
					<div>
						<span id="local_time">0</span>s
					</div>
				</div>
			</div>
			<div class="gameScene" id="local_gameScene">
				<img src="../img/bg2.png">
				<div class="game" id="local_game"></div>
				<div class="next" id="local_next">
					<img src="../img/a/nextLayer.png">
				</div>
			</div>
			<div class="ranking">
				<ul>
					<li id="num1"><img id="img1" src="../img/a/e.png"> <span
						id="score">000</span> <img id="img2" src="../img/a/d.png"> <img
						id="img3" src="../img/a/c.png"></li>
					<li id="num2"><img id="img4" src="../img/a/f.png"> <span
						id="score1">000</span> <img id="img5" src="../img/a/d.png">
						<img id="img6" src="../img/a/c.png"></li>
					<li id="num3"><img id="img7" src="../img/a/g.png"> <span
						id="score2">000</span> <img id="img8" src="../img/a/d.png">
						<img id="img9" src="../img/a/c.png"></li>
					<li id="num4"><img id="img10" src="../img/a/h.png"> <span
						id="scoreMe">0</span> <img id="img11" src="../img/a/d.png">
						<img id="img12" src="../img/a/c.png"></li>
				</ul>
			</div>
			<div class="stage_btn">
				<ul>
					<li><img id="stage1" src="../img/a/stage2.png"></li>
					<li><img id="stage2" src="../img/a/stage1.png"><span
						id="stage2_num">0</span></li>
				</ul>
			</div>
			<div class="bottom_btn">
				<ul>
					<li id="btn_left"><img id="btnImg_left"
						src="../img/button4.png"></li>
					<li id="btn_right"><img id="btnImg_right"
						src="../img/button3.png"></li>
					<li id="btn_rotate"><img id="btnImg_rotate"
						src="../img/button1.png"></li>
					<li id="btn_down"><img id="btnImg_down"
						src="../img/button2.png"></li>
				</ul>
			</div>
		</div>
		<canvas id="canvas1"></canvas>
	</div>
	<script type="text/javascript">
		

		websocket.onmessage = function(e) {
			alert("hello");
			var jsonObj = eval("(" + e.data + ")");
			console.log(jsonObj)
			var allInfo = JSON.parse(jsonObj);
			if (allInfo.type == 'gameUsmesage') {
				//将信息放在改放的地方
				showReadingUsers(allInfo);
			}
		}
		function showReadingUsers(allInfo) {
			//遍历数据 放在该放的地方
			alert("进入");
		}
	</script>
	<script src="../js/square.js"></script>
	<script src="../js/squareFactory.js"></script>
	<script src="../js/game.js"></script>
	<script src="../js/local.js"></script>
	<script src="../js/script.js"></script>
	<script src="../js/hall.js"></script>
</body>
</html>